    1|       |//
    2|       |//  APIFoodFinderExample2Tests.swift
    3|       |//  APIFoodFinderExample2Tests
    4|       |//
    5|       |//  Created by Akua Afrane-Okese on 2020/02/18.
    6|       |//  Copyright Â© 2020 Akua Afrane-Okese. All rights reserved.
    7|       |//
    8|       |
    9|       |import XCTest
   10|       |@testable import APIFoodFinderExample2
   11|       |protocol MockFoodViewModelProtocol {
   12|       |    func getSearchResult(completionHandler: @escaping([FoodDetails]) ->Void)
   13|       |}
   14|       |class MockFoodModel: MockFoodViewModelProtocol{
   15|       |    var countryCode : String
   16|      0|    func getSearchResult(completionHandler: @escaping ([FoodDetails]) -> Void) {
   17|      0|                let expectation = XCTestExpectation(description: "Download apple.com home page")
   18|      0|        
   19|      0|        // Create a URL for a web page to be downloaded.
   20|      0|        let url = URL(string: "https://apple.com")!
   21|      0|        
   22|      0|        // Create a background task to download the web page.
   23|      0|        let dataTask = URLSession.shared.dataTask(with: url) { (data, _, _) in
   24|      0|            
   25|      0|            // Make sure we downloaded some data.
   26|      0|            XCTAssertNotNil(data, "No data was downloaded.")
   27|      0|            
   28|      0|            // Fulfill the expectation to indicate that the background task has finished successfully.
   29|      0|            expectation.fulfill()
   30|      0|            
   31|      0|        }
   32|      0|        
   33|      0|        // Start the download task.
   34|      0|        dataTask.resume()
   35|      0|        
   36|      0|        // Wait until the expectation is fulfilled, with a timeout of 10 seconds.
   37|      0|        XCTWaiter.wait(for: [expectation], timeout: 10.0)
   38|      0|
   39|      0|    }
   40|       |    
   41|      0|    public init(countryCode: String) {
   42|      0|        self.countryCode = countryCode
   43|      0|    }
   44|       |}
   45|       |
   46|       |class APIFoodFinderExample2Tests: XCTestCase {
   47|       |
   48|       |    var foodDetail: FoodDetails!
   49|       |    var repo : MockFoodModel!
   50|      3|    override func setUp() {
   51|      3|        foodDetail = FoodDetails()
   52|      3|    }
   53|       |
   54|      3|    override func tearDown() {
   55|      3|        // Put teardown code here. This method is called after the invocation of each test method in the class.
   56|      3|    }
   57|       |
   58|      1|    func testExample() {
   59|      1|        var s = ""
   60|      1|        let foodRequest = FoodRequest(countryCode: "fish")
   61|      1|        foodRequest.getSearchResult{(result) in
   62|      0|            switch result {
   63|      0|                       case .failure(let error):
   64|      0|                        s = error.localizedDescription
   65|      0|                       case .success(let food):
   66|      0|                        s = food[0].title
   67|      0|                       }
   68|      0|            XCTAssertEqual(s, "Fish Marinade for People Who Hate Fish")
   69|      0|        }
   70|      1|        
   71|      1|        //XCTAssertNil(closure)
   72|      1|    }
   73|      1|    func testExample1() {
   74|      1|           var s = ""
   75|      1|           let foodRequest = FoodRequest(countryCode: "pepperdew")
   76|      1|           foodRequest.getSearchResult{(result) in
   77|      0|               switch result {
   78|      0|                          case .failure(let error):
   79|      0|                           s = error.localizedDescription
   80|      0|                          case .success(let food):
   81|      0|                           s = food[0].title
   82|      0|                          }
   83|      0|               XCTAssertNotEqual(s, "Fish Marinade for People Who Hate Fish")
   84|      0|           }
   85|      1|           
   86|      1|           //XCTAssertNil(closure)
   87|      1|       }
   88|       |
   89|      1|    func testPerformanceExample() {
   90|      1|        // This is an example of a performance test case.
   91|     10|        self.measure {
   92|     10|            // Put the code you want to measure the time of here.
   93|     10|        }
   94|      1|    }
   95|       |
   96|       |}

